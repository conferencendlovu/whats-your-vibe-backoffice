<!-- Page Wrapper -->
<div id="wrapper" *ngIf="authService.uid | async as uid; else login">
  <!-- Sidebar -->
  <ul
    class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion"
    id="accordionSidebar"
  >
    <img
      src="../assets/images/logo.png"
      height="120px"
      style="padding: 10px"
      class="mt-3"
    />
    <!-- Sidebar - Brand -->
    <a class="sidebar-brand d-flex align-items-center justify-content-center">
      <div class="sidebar-brand-text mx-3">Whats Your Vibe</div>
    </a>

    <!-- Divider -->
    <hr class="sidebar-divider" />

    <li class="nav-item" routerLink="/home">
      <a class="nav-link ">
        <i class="fas fa-fw fa-home"></i>
        <span>Home</span>
      </a>
    </li>

    <li class="nav-item" routerLink="/events">
      <a class="nav-link ">
        <i class="fas fa-fw fa-glass-cheers"></i>
        <span>Events</span>
      </a>
    </li>

    <li class="nav-item" routerLink="/categories">
      <a class="nav-link ">
        <i class="fas fa-fw fa-layer-group"></i>
        <span>Categories</span>
      </a>
    </li>

    <li class="nav-item" routerLink="/businesses">
      <a class="nav-link ">
        <i class="fas fa-fw fa-campground"></i>
        <span>Businesses</span>
      </a>
    </li>

    <li class="nav-item" routerLink="/vibers">
      <a class="nav-link ">
        <i class="fas fa-fw fa-users"></i>
        <span>Vibers</span>
      </a>
    </li>
  </ul>
  <!-- End of Sidebar -->

  <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">
    <!-- Main Content -->
    <div id="content">
      <!-- Topbar -->
      <nav
        class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"
      >
        <!-- Sidebar Toggle (Topbar) -->
        <button
          id="sidebarToggleTop"
          class="btn btn-link d-md-none rounded-circle mr-3"
        >
          <i class="fa fa-bars"></i>
        </button>

        <!-- Topbar Navbar -->
        <ul class="navbar-nav ml-auto">
          <div class="topbar-divider d-none d-sm-block"></div>

          <!-- Nav Item - User Information -->
          <li class="nav-item dropdown no-arrow">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="userDropdown"
              role="button"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              <span class="mr-2 d-none d-lg-inline text-gray-600 small">
                {{ authService.username | async }}</span
              >
              <img
                class="img-profile rounded-circle"
                src="https://i.pravatar.cc/60"
              />
            </a>
            <!-- Dropdown - User Information -->
            <div
              class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
              aria-labelledby="userDropdown"
            >
              <a class="dropdown-item" (click)="doLogout()">
                <i
                  class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"
                ></i>
                Logout
              </a>
            </div>
          </li>
        </ul>
      </nav>
      <!-- End of Topbar -->
      <router-outlet></router-outlet>
    </div>
    <!-- End of Main Content -->

    <!-- Footer -->
    <footer class="sticky-footer bg-white">
      <div class="container my-auto">
        <div class="copyright text-center my-auto">
          <span
            >Copyright &copy; 2019 Whats Your Vibe. Powered by Jaspa
            Software</span
          >
        </div>
      </div>
    </footer>
    <!-- End of Footer -->
  </div>
  <!-- End of Content Wrapper -->
</div>
<!-- End of Page Wrapper -->
<ng-template #login>
  <div class="container ">
    <!-- Outer Row -->
    <div class="row">
      <div class="col-xl-10 col-lg-12 col-md-9 ">
        <div class="card o-hidden border-0 shadow-lg my-5">
          <div class="card-body p-0">
            <!-- Nested Row within Card Body -->
            <div class="row">
              <div class="col-lg-6 d-none d-lg-block bg-login-image"></div>
              <div class="col-lg-6">
                <div class="p-5">
                  <div class="text-center">
                    <h1 class="h4 text-gray-900 mb-4">
                      Whats Your Vibe<br /><span class="text-muted"
                        ><small>ADMINISTRATION CONSOLE</small></span
                      >
                    </h1>
                  </div>
                  <form
                    class="user"
                    [formGroup]="loginForm"
                    (submit)="onSubmit(loginForm.value)"
                  >
                    <div class="form-group">
                      <input
                        formControlName="password"
                        required
                        type="text"
                        class="form-control form-control-user"
                        id="username"
                        maxlength="10"
                        aria-describedby="WYV Admin Username"
                        placeholder="Username"
                      />
                    </div>
                    <div class="form-group">
                      <input
                        formControlName="password"
                        required
                        type="password"
                        class="form-control form-control-user"
                        id="password"
                        placeholder="Password"
                      />
                    </div>
                    <button
                      [disabled]="!loginForm.valid"
                      type="submit"
                      class="btn btn-primary btn-user btn-block"
                    >
                      Login
                    </button>
                  </form>
                  <hr />
                  <div class="text-center">
                    <a class="small" href="https://www.jaspa.co.za"
                      >Powered by Jaspa Software</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
